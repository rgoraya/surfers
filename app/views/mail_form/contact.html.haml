%table{:border => "0", :cellpadding => "0", :cellspacing => "0", :width => "99%", :bgcolor => "#fcfcfc"}
  %tr
    %td{:align => "center", :valign => "top"}
      / Second HTML table is the email itself
      %table.email{:border => "0", :cellpadding => "0", :cellspacing => "0", :width => "100%", :background => "#{URI.join(root_url, image_path("grey.png"))}"}
        %tr
          %td{:valign => "top", :align => "center"}
            %p{:style => "margin-top: 20px; margin-right: 0; margin-bottom: 20px; margin-left: 0; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0; text-align: center"}
              %img{:align => "center", :alt => "", :hspace => "0", :src => "#{URI.join(root_url, image_path("surfers_logo_original_200.png"))}", :vspace => "0", :width => "120", :height => "120"}

        %tr
          %td{:align => "left", :valign => "top"}
            %h1{:style => "font-family: Georgia ,Serif; font-size: 24px; font-weight: normal; font-style: italic; line-height: 30px; margin-top: 10px; margin-right: 30px; margin-bottom: 10px; margin-left: 30px; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0;"}
              - if @resource.type == "Confirmation"
                Dear @resource.team_manager.name
              - elsif @resource.type == "Notification"
                Hi Surfers!
        %tr
          %td{:valign => "top"}
            / Third HTML table is the left column of content
            %table.email-content{:align => "left", :border => "0", :cellpadding => "0", :cellspacing => "0", :width => "100%"}
              %tr
                %td{:valign => "top"}

                  - if @resource.type == "Confirmation"
                    %h2{:style => "color: #333333; font-family: Georgia ,Serif; font-size: 20px; font-style: italic; font-weight: normal; line-height: 26px; margin-top: 20px; margin-right: 30px; margin-bottom: 20px; margin-left: 30px; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0;"}
                      Thank you for registering your team "#{@resource.team.name}" for participating in the Surfer's #{@resource.tournament.name}.

                    %p{:style => "color: #333333; font-family: Helvetica, Arial, Sans-Serif; font-size: 16px; line-height: 22px; margin-top: 0; margin-right: 30px; margin-bottom: 20px; margin-left: 30px; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0;"}
                      You registered for the #{@resource.registration.divisions.map(&:name).to_sentence} division(s) of the tournament.
                      %strong The total amount due is $#{@resource.registration.divisions.map(&:fee).sum}.

                    %p{:style => "color: #333333; font-family: Helvetica, Arial, Sans-Serif; font-size: 16px; line-height: 22px; margin-top: 0; margin-right: 30px; margin-bottom: 20px; margin-left: 30px; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0;"}
                      Please note that
                      %strong the online registration does not include the registration fees.
                      Please make $#{@resource.registration.divisions.map(&:fee).sum} fees payable to HBFHC and mail it to
                      HBFHC, 1195 Via Blairo Circle, Corona, CA 92879.
                    %p{:style => "color: #333333; font-family: Helvetica, Arial, Sans-Serif; font-size: 16px; line-height: 22px; margin-top: 0; margin-right: 30px; margin-bottom: 20px; margin-left: 30px; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0;"}
                      Kindly review your registration details below. In case of any changes or for additional information regarding fees, please
                      %a{:href => "#{contact_url}", :style => "text-decoration: none; color: #669999", :target => "_blank"} contact us.

                  - elsif @resource.type == "Notification"
                    %h2{:style => "color: #333333; font-family: Georgia ,Serif; font-size: 20px; font-style: italic; font-weight: normal; line-height: 26px; margin-top: 20px; margin-right: 30px; margin-bottom: 20px; margin-left: 30px; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0;"}
                      "#{@resource.team.name}" just registered online for participating in the Surfer's #{@resource.tournament.name}.

                    %p{:style => "color: #333333; font-family: Helvetica, Arial, Sans-Serif; font-size: 16px; line-height: 22px; margin-top: 0; margin-right: 30px; margin-bottom: 20px; margin-left: 30px; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0;"}
                      Click
                      %a{:href => "#{tournament_registration_url(@resource.registration.id)}", :style => "text-decoration: none; color: #669999", :target => "_blank"} here
                      to view the registration details. They registered for the #{@resource.registration.divisions.map(&:name).to_sentence}
                      division(s) of the tournament. The total amount due is $#{@resource.registration.divisions.map(&:fee).sum}.

                    %p{:style => "color: #333333; font-family: Helvetica, Arial, Sans-Serif; font-size: 16px; line-height: 22px; margin-top: 0; margin-right: 30px; margin-bottom: 20px; margin-left: 30px; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0;"}
                      Please note that the online registration does not include the  registration fees. Below is their
                      contact information for further communication and for the registration fees follow up.
                  %table{:border => "0", :cellpadding => "5", :cellspacing => "0", :width => "100%", :align => "center"}
                    %tr
                      %td{:style => "line-height: 22px; font-size: 16px; text-align: right; color: #333333"}
                        Team Name:
                      %td{:style => "line-height: 22px; font-size: 16px; text-align: left; color: #333333"}
                        = @resource.team.name
                    %tr
                      %td{:style => "line-height: 22px; font-size: 16px; text-align: right; color: #333333"}
                        Team Manager:
                      %td{:style => "line-height: 22px; font-size: 16px; text-align: left; color: #333333"}
                        = @resource.team_manager.name
                    %tr
                      %td{:style => "line-height: 22px; font-size: 16px; text-align: right; color: #333333"}
                        Team Manger Phone:
                      %td{:style => "line-height: 22px; font-size: 16px; text-align: left; color: #669999"}
                        %a{ :href => "tel:#{@resource.team_manager.phone_number}", :style => "text-decoration: none; color: #669999"}
                          = number_to_phone(@resource.team_manager.phone_number, area_code: true)
                    %tr
                      %td{:style => "line-height: 22px; font-size: 16px; text-align: right; color: #333333"}
                        Team Manger Email:
                      %td{:style => "line-height: 22px; font-size: 16px; text-align: left; color: #669999"}
                        %a{ :href => "maito:#{@resource.team_manager.email}", :style => "text-decoration: none; color: #669999"}
                          = @resource.team_manager.email
                    %tr
                      %td{:style => "line-height: 22px; font-size: 16px; text-align: right; color: #333333"}
                        Team Captain:
                      %td{:style => "line-height: 22px; font-size: 16px; text-align: left; color: #333333"}
                        = @resource.team_captain.name
                    %tr
                      %td{:style => "line-height: 22px; font-size: 16px; text-align: right; color: #333333"}
                        Team Captain Phone:
                      %td{:style => "line-height: 22px; font-size: 16px; text-align: left; color: #669999"}
                        %a{ :href => "tel:#{@resource.team_captain.phone_number}", :style => "text-decoration: none; color: #669999"}
                          = number_to_phone(@resource.team_captain.phone_number, area_code: true)

        %tr
          %td{:align => "left", :height => "100", :valign => "top"}
            %p{:style => "font-family: Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; margin-top: 20px; margin-right: 30px; margin-bottom: 20px; margin-left: 30px; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0;"}
              SURFERS
              %br
                Huntington Beach Field Hockey Club
                %br
                  1195 Via Blairo Circle
                  %br
                    Corona, CA 92879
            %p{:style => "font-family: Helvetica, Arial, Sans-Serif; font-size: 14px; line-height: 20px; margin-top: 30px; margin-right: 30px; margin-bottom: 30px; margin-left: 30px; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0;"}
              %a{:href => root_url, :style => "font-family: Helvetica, Arial, sans-serif; font-size: 14px; line-height: 20px; margin-top: 0; margin-right: 0; margin-bottom: 0; margin-left: 0; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0; text-decoration: none; color: #669999", :target => "_blank"}
                SURFER'S HOME
              |
              %a{:href => "http://surfersfieldhockey.com/annual-6-x-6-tournament-2016", :style => "font-family: Helvetica, Arial, Sans-Serif; font-size: 14px; line-height: 20px; margin-top: 0; margin-right: 0; margin-bottom: 0; margin-left: 0; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0; text-decoration: none; color: #669999", :target => "_blank"}
                TOURNAMENT HOME

  %tr
    %td{:align => "center", :valign => "top"}
      %p{:style => "font-family: Helvetica, Arial, sans-serif; font-size: 10px; line-height: 16px; margin-top: 25px; margin-right: 20px; margin-bottom: 25px; margin-left: 20px; padding-top: 0; padding-right: 0; padding-bottom: 0; padding-right: 0; color #333333;"}
        Copyright © 2016. Huntington Beach Field Hockey Club. All rights reserved.

